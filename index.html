<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Right Triangles SVG</title>
    <script type="text/javascript" src="./uSvg-0.2.js"></script>

  </head>
  <body>

    <div id="diagram">
      <script type="text/javascript">
        svg = new uSvgGraph({elementInfo:{width:400,height:300}, axesInfo:{showAxes:false}});

        let opp = 10;
        let theta = 30 * Math.PI / 180;
        let adj = opp/Math.tan(theta);
        tri = new uRightTriangle(opp, adj, new uPoint(-7.5,-6));

        tri.draw(
          svg,
          {
            showAngleLabels: [false, true, true],
            showAngleArcs: [true, true, true],
            angle_arc_r: [1, 3, 4],
            angleFontStyle: {'font-size': '1em'},
            labelSides: [true, true, false],
            sideLabels: ["use_length", "h = ?", "use_length"],
            sideLabelOffset: [1, 1, 0.5]
          }
        );

      </script>
    </div>

    <div id="controls">
      <table>
        <tr>
          <th></th><th></th><th>show</th><th>arc</th>
        </tr>

        <tr>
          <td>Angle 1 (α): </td>
          <td><input type="number" id="a1" value="">°</td>
          <td><input type="checkbox" id="a1Show"> </td>
          <td><input type="checkbox" id="a1Arc"> </td>
        </tr>
        <tr>
          <td>Angle 2 (θ):  </td>
          <td><input type="number" id="a2" value="">°</td>
          <td><input type="checkbox" id="a2Show"> </td>
          <td><input type="checkbox" id="a2Arc"> </td>
        </tr>
        <tr>
          <td>Length 1 (a):  </td>
          <td><input type="number" id="len1" value=""><br></td>
          <td><input type="checkbox" id="len1Show"> </td>
        </tr>
        <tr>
          <td>Length 2 (b):  </td>
          <td><input type="number" id="len2" value=""><br></td>
          <td><input type="checkbox" id="len2Show"> </td>
        </tr>

      </table>


    </div>

    <div id="refDiagram">
      Reference Triangle<br>
      <script type="text/javascript">
        svg2 = new uSvgGraph({elementInfo:{width:400,height:300}, axesInfo:{showAxes:false}});

        triRef = new uRightTriangle(10, 12, new uPoint(-7.5,-6));

        triRef.draw(
          svg2,
          {
            showAngleLabels: [false, true, true],
            showAngleArcs: [true, true, true],
            angleLabels: ["use_angle", "alpha", "theta"],
            angle_arc_r: [1, 2, 3],
            angleFontStyle: {'font-size': '1em'},
            labelSides: [true, true, true],
            sideLabels: ["a", "c", "b"],
            sideLabelOffset: [0.75, .75, 0.75]
          }
        );

      </script>
    </div>


  </body>

  <script type="text/javascript">
    function redraw(){
      tri.undraw();
      tri.draw(tri.svg, tri.drawArguments);
    }
    //Inital Values
    a1Div = document.getElementById("a1");
    a1Div.value = tri.angles[1].toPrecision(3);
    a2Div = document.getElementById("a2");
    a2Div.value = tri.angles[2].toPrecision(3);

    document.getElementById("a1Show").checked = tri.drawArguments.showAngleLabels[1];
    document.getElementById("a2Show").checked = tri.drawArguments.showAngleLabels[2];
    document.getElementById("a1Arc").checked = tri.drawArguments.showAngleArcs[1];
    document.getElementById("a2Arc").checked = tri.drawArguments.showAngleArcs[2];


    len1Div = document.getElementById("len1");
    len1Div.value = tri.lengths[1].toPrecision(3);
    len2Div = document.getElementById("len2");
    len2Div.value = tri.lengths[2].toPrecision(3);
    document.getElementById("len1Show").checked = tri.drawArguments.labelSides[1];
    document.getElementById("len2Show").checked = tri.drawArguments.labelSides[2];

    //updates
    document.getElementById("a1Show").addEventListener("change", function(){
      tri.drawArguments.showAngleLabels[1] = this.checked;
      redraw();
    })
    document.getElementById("a2Show").addEventListener("change", function(){
      tri.drawArguments.showAngleLabels[2] = this.checked;
      redraw();
    })
    document.getElementById("a1Arc").addEventListener("change", function(){
      tri.drawArguments.showAngleArcs[1] = this.checked;
      redraw();
    })
    document.getElementById("a2Arc").addEventListener("change", function(){
      tri.drawArguments.showAngleArcs[2] = this.checked;
      redraw();
    })
    document.getElementById("len1Show").addEventListener("change", function(){
      tri.drawArguments.labelSides[1] = this.checked;
      redraw();
    })
    document.getElementById("len2Show").addEventListener("change", function(){
      tri.drawArguments.labelSides[2] = this.checked;
      redraw();
    })


  </script>


</html>
